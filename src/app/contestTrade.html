<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link href="css/style.css" rel="stylesheet" />
		<link href="css/contestTrade.css" rel="stylesheet" />
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">我的持倉</h1>
		</header>
		<div id="" class="mui-content">
			<div id="userinfo">
				<div class="line-box-1">
					<img :src="datas.uheadurl" id="headimg"/>
					<div id="user-nick">
						{{datas.uname}}
					</div>
					<div id="user-rank">
						排名：{{datas.rank}}
					</div>					
				</div>
				<div class="line-box">
					<div id="win-rate">
						盈利率：{{datas.winrate}}%
					</div>
					<div id="position">
						倉位：{{datas.position}}%
					</div>
				</div>
				<div class="line-box">
					<div id="all-capital">
						可用資產：{{datas.money}}
					</div>
					<div id="cash">
						當前市值：{{datas.marketvalue}}
					</div>
				</div>
			</div>  <!--  用戶 信息--->
					
			<div class="user-stock-head">
				我的持倉
			</div>
			<div id="user-stocks">
				<div v-for="it in datas" id="data-item">
				<div id="stock-name">
					{{it.name}}({{it.code}})
				</div>
				<div class="stock-line-box">
					<div class="stock-line-item">
						當前價：{{it.cur_price}}
					</div>
					<div class="stock-line-item" v-if="it.cur_price - it.price > 0" >
						浮動盈虧：<span style="color: red;">{{(it.cur_price - it.price).toFixed(2)}}</span>
					</div>
					<div class="stock-line-item" v-else-if="it.cur_price - it.price < 0" >
						浮動盈虧：<span style="color: green;">{{(it.cur_price - it.price).toFixed(2)}}</span>
					</div>
					<div class="stock-line-item" v-else>
						浮動盈虧：<span>{{(it.cur_price - it.price).toFixed(2)}}</span>
					</div>
				</div>
				<div class="stock-line-box">
					<div class="stock-line-item">
						成本價：{{it.price}}
					</div>
					<div class="stock-line-item">
						最新市值：{{it.cur_price*(it.count+it.freeze)}}
					</div>
				</div>
				<div class="stock-line-box">
					<div class="stock-line-item">
						持倉數：{{it.count+it.freeze}}股
					</div>
					<div class="stock-line-item">
						當前可賣：{{it.count}}股
					</div>
				</div>
				<div id="stock-button">
					<div id="stock-buy" style="color: cornflowerblue;" @tap="buy(it)">
						買 入
					</div>
					<div id="stock-sale" style="color: red;" @tap="sale(it)">
						賣 出
					</div>
				</div>
				</div>
			</div>
			
			<div id="bottom-bar">
	            <button type="button" class="mui-btn"  id="stock-buy">買入</button>
	            <button type="button" class="mui-btn" id="stock-sale">賣出</button>
	        	<button type="button" class="mui-btn" id="stock-reback">撤單</button>
	        	<button type="button" class="mui-btn" id="stock-history">交易記錄</button>
	        </div>
	        <div id="" style="height: 40px; width: 100%;">
	        	<!--
                	作者：offline
                	时间：2018-08-14
                	描述：這個div 用於撐起content box， 不要擋住買入賣出按鈕
                -->
	        </div>
		</div> <!--  mui content --->
		
	</body>
	<script src="js/mui.min.js"></script>
	<script src="js/app.js"></script>
	<script src="js/hq.js"></script>
	<script src="js/vue.min.js"></script>
	<script type="text/javascript">
//		mui.init()

	</script>
	<script type="text/javascript" src="js/contestTrade.js"></script>
</html>